document.addEventListener("DOMContentLoaded", function() {
var MarkerIcon = L.Icon.extend({
    options: {
        iconSize:     [30, 30],
        iconAnchor:   [15, 15]
    }
});

var boltIcon = new MarkerIcon({iconUrl: 'img/coloured_bolt.png'});
var mymap = L.map('map').setView([53.96, -3.22], 5);

L.tileLayer('https://api.mapbox.com/styles/v1/{id}/tiles/{z}/{x}/{y}?access_token={accessToken}', {
  attribution: 'Map data &copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors, Imagery © <a href="https://www.mapbox.com/">Mapbox</a>',
  maxZoom: 18,
  id: 'mapbox/streets-v11',
  tileSize: 512,
  zoomOffset: -1,
  accessToken: 'pk.eyJ1IjoiZW5lcmd5dmlzIiwiYSI6ImNrbjR2aWo4azBsaHEycHM5dHByZzFnZW8ifQ.MyLCIQqHnNHQFWJQqs-j4w'
}).addTo(mymap);

var geojsonFeature = {'type': 'FeatureCollection', 'features': [{'type': 'Feature', 'properties': {'description': 'Our engineers had to redirect power due to a fault on the electricity network.', 'dno': 'ukpn', 'estimated_restored_time': null, 'incident_id': 'INCD-232802-Z', 'incident_url': 'https://www.ukpowernetworks.co.uk/power-cut/map?incidentid=INCD-232802-Z', 'postcodes_impacted': ['IP256QG', 'CM778FS', 'IP241', 'IP241FJ', 'IP241NH', 'IP241NJ', 'IP241NL', 'IP241NN', 'IP241NP', 'IP241NR', 'IP241NS', 'IP241NT', 'IP241NU', 'IP241NW', 'IP241NY', 'IP241NZ', 'IP241PA', 'IP241PB', 'IP241PD', 'IP241PE', 'IP241PF', 'IP241PH', 'IP241PJ', 'IP241PL', 'IP241PN', 'IP241PP', 'IP241PR', 'IP241PS', 'IP241PT', 'IP241PU', 'IP241PW', 'IP241PX', 'IP241PY', 'IP241PZ', 'IP241QA', 'IP241QB', 'IP241QD', 'IP241QE', 'IP241QF', 'IP241QG', 'IP241QH', 'IP241QQ', 'IP241RT', 'IP241SE', 'IP256', 'IP256AS', 'IP256AT', 'IP256AU', 'IP256AX', 'IP256AY', 'IP256AZ', 'IP256BF', 'IP256BG', 'IP256BJ', 'IP256BL', 'IP256BP', 'IP256BS', 'IP256HD', 'IP256HN', 'IP256JZ', 'IP256LB', 'IP256PS', 'IP256QH', 'IP256QJ', 'IP256QL', 'IP256QN', 'IP256QQ', 'IP256QY', 'IP256RJ', 'IP256SR', 'IP256TN', 'IP256TQ', 'IP256TS', 'IP256TT', 'IP256TW', 'IP256UW', 'IP256XB', 'IP256XD', 'IP256XH', 'IP256XJ', 'IP256XL', 'IP256XN', 'IP256XP', 'IP256XQ', 'IP256XT', 'IP256XW', 'N167HH', 'NR171BF', 'NR171DP', 'NR171DR', 'NR171DS', 'NR171DU', 'NR171DX', 'NR171DY', 'NR171DZ', 'NR171EA', 'NR171EB', 'NR171ED', 'NR171EJ', 'NR171EL', 'NR171EN', 'NR171EP', 'NR171ER', 'NR171ES', 'NR171ET', 'NR171EU', 'NR171EW', 'NR171EX', 'NR171FE', 'NR171HD', 'NR171XG', 'NR171XQ', 'NR172LP'], 'received_time': '2021-04-23T15:54:35'}, 'geometry': {'type': 'Point', 'coordinates': [0.843315450566849, 52.51856875801602]}}, {'type': 'Feature', 'properties': {'description': 'A fault occurred on an underground electricity cable affecting the local area.', 'dno': 'ukpn', 'estimated_restored_time': '2021-04-23T06:00:00', 'incident_id': 'INCD-232840-Z', 'incident_url': 'https://www.ukpowernetworks.co.uk/power-cut/map?incidentid=INCD-232840-Z', 'postcodes_impacted': ['PE297SD', 'PE297YR'], 'received_time': '2021-04-23T20:31:00'}, 'geometry': {'type': 'Point', 'coordinates': [-0.18937116795607184, 52.33592941080159]}}, {'type': 'Feature', 'properties': {'description': 'A fault occurred on an underground electricity cable affecting the local area.', 'dno': 'ukpn', 'estimated_restored_time': null, 'incident_id': 'INCD-44423-C', 'incident_url': 'https://www.ukpowernetworks.co.uk/power-cut/map?incidentid=INCD-44423-C', 'postcodes_impacted': ['LU20RL', 'LU20RY'], 'received_time': '2021-04-23T09:07:00'}, 'geometry': {'type': 'Point', 'coordinates': [-0.3910652737533416, 51.883227620433296]}}, {'type': 'Feature', 'properties': {'description': 'We had to turn off power in your area so our engineers could safely carry out emergency repairs to the network.', 'dno': 'ukpn', 'estimated_restored_time': '2021-04-24T05:00:00', 'incident_id': 'INCD-260646-J', 'incident_url': 'https://www.ukpowernetworks.co.uk/power-cut/map?incidentid=INCD-260646-J', 'postcodes_impacted': ['EC2M1RP', 'EC2M1RQ', 'EC2M3UE', 'EC2M7PD', 'EC2M7PN', 'EC2M7PP', 'EC2M7RD', 'EC2N1AR', 'EC2N1DW'], 'received_time': '2021-04-24T00:30:00'}, 'geometry': {'type': 'Point', 'coordinates': [-0.08302983911549884, 51.51633191119721]}}, {'type': 'Feature', 'properties': {'description': 'A fault occurred on an underground electricity cable affecting the local area.', 'dno': 'ukpn', 'estimated_restored_time': '2021-04-24T03:00:00', 'incident_id': 'INCD-232814-Z', 'incident_url': 'https://www.ukpowernetworks.co.uk/power-cut/map?incidentid=INCD-232814-Z', 'postcodes_impacted': ['NR129AF', 'NR129AH', 'NR129EG', 'NR129AN', 'NR129BB', 'NR129BE', 'NR129BF', 'NR129BG'], 'received_time': '2021-04-23T16:34:00'}, 'geometry': {'type': 'Point', 'coordinates': [1.512346502176928, 52.772971449030656]}}, {'type': 'Feature', 'properties': {'description': 'We had to turn off power in your area so our engineers could safely carry out emergency repairs to the network.', 'dno': 'ukpn', 'estimated_restored_time': null, 'incident_id': 'INCD-232632-Z', 'incident_url': 'https://www.ukpowernetworks.co.uk/power-cut/map?incidentid=INCD-232632-Z', 'postcodes_impacted': ['CM170AT', 'CM170AP', 'CM170AX', 'CM170DB', 'CM170DT', 'CM170EX'], 'received_time': '2021-04-22T23:30:00'}, 'geometry': {'type': 'Point', 'coordinates': [0.13408236811348603, 51.78413573984928]}}, {'type': 'Feature', 'properties': {'description': 'We’re sorry for the loss of supply. We currently have a fault affecting the areas listed. Our engineers are on site working hard to get the power back on as quickly as they can. If you need more information, please call us on 105 or send us a message on <a href="http://m.me/ssencommunity/">Facebook</a> or Twitter (<a href="https://twitter.com/ssencommunity">@ssencommunity</a>) and quote reference \'HC1367\'', 'dno': 'ssen', 'estimated_restored_time': '2021-04-24 04:00:00', 'incident_id': 'HC1367', 'incident_url': 'https://www.ssen.co.uk/Powertrack/', 'postcodes_impacted': ['UB1 1SU', 'UB1 1SW'], 'received_time': '2021-04-22 23:40:00'}, 'geometry': {'type': 'Point', 'coordinates': [-0.37583900000000003, 51.510153]}}, {'type': 'Feature', 'properties': {'description': 'In Progress', 'dno': 'wpd', 'estimated_restored_time': '2021-04-24 02:00:00', 'incident_id': 'INCD-153158-H', 'incident_url': 'https://powercuts.westernpower.co.uk/incident/INCD-153158-H', 'postcodes_impacted': ['DE7 5TG'], 'received_time': '2021-04-23 09:23:00'}, 'geometry': {'type': 'Point', 'coordinates': [-1.295771, 52.976316]}}, {'type': 'Feature', 'properties': {'description': 'Emergency', 'dno': 'wpd', 'estimated_restored_time': '2021-04-24 00:00:00', 'incident_id': 'INCD-153194-H', 'incident_url': 'https://powercuts.westernpower.co.uk/incident/INCD-153194-H', 'postcodes_impacted': ['CV4 9FF'], 'received_time': '2021-04-23 14:18:00'}, 'geometry': {'type': 'Point', 'coordinates': [-1.565508, 52.406499]}}, {'type': 'Feature', 'properties': {'description': 'In Progress', 'dno': 'wpd', 'estimated_restored_time': '2021-04-24 03:00:00', 'incident_id': 'INCD-153212-H', 'incident_url': 'https://powercuts.westernpower.co.uk/incident/INCD-153212-H', 'postcodes_impacted': ['NG19 9HL'], 'received_time': '2021-04-23 21:26:00'}, 'geometry': {'type': 'Point', 'coordinates': [-1.174524, 53.17356]}}, {'type': 'Feature', 'properties': {'description': 'In Progress', 'dno': 'wpd', 'estimated_restored_time': '2021-04-24 01:00:00', 'incident_id': 'INCD-153214-H', 'incident_url': 'https://powercuts.westernpower.co.uk/incident/INCD-153214-H', 'postcodes_impacted': ['NG1 6LF', 'NG1 6LD', 'NG1 6JP', 'NG1 6JD', 'NG1 6JZ', 'NG1 6LG', 'NG1 5FW', 'NG1 6JE', 'NG1 6AZ', 'NG1 6HX', 'NG1 6GD', 'NG1 5JN', 'NG1 1FS', 'NG1 5FX'], 'received_time': '2021-04-23 23:06:00'}, 'geometry': {'type': 'Point', 'coordinates': [-1.1526657142857142, 52.9544745]}}, {'type': 'Feature', 'properties': {'description': 'In Progress', 'dno': 'wpd', 'estimated_restored_time': '2021-04-24 03:00:00', 'incident_id': 'INCD-153213-H', 'incident_url': 'https://powercuts.westernpower.co.uk/incident/INCD-153213-H', 'postcodes_impacted': ['MK18 4BX', 'MK18 4DB', 'MK18 4LX', 'MK18 4LR', 'MK18 4DE', 'MK18 4LY', 'MK18 4LN', 'MK18 4DA', 'MK18 4LP', 'MK18 4DP', 'MK18 4DR', 'MK18 4BZ', 'MK18 4LT', 'MK18 4LJ', 'MK18 4DD', 'MK18 4LS', 'MK18 4LL', 'MK18 4LG', 'MK18 4NA', 'MK18 4DU', 'MK18 4ND', 'MK18 4BY', 'MK18 4LU', 'MK18 2LJ', 'MK18 4JR', 'MK18 4DT', 'MK18 4LH', 'MK18 4HB', 'MK18 4LZ', 'MK18 4DS', 'MK18 2HA', 'MK18 4BT'], 'received_time': '2021-04-23 22:21:00'}, 'geometry': {'type': 'Point', 'coordinates': [-1.0276991249999998, 51.9588891875]}}, {'type': 'Feature', 'properties': {'description': 'In Progress', 'dno': 'wpd', 'estimated_restored_time': '2021-04-24 03:00:00', 'incident_id': 'INCD-153215-H', 'incident_url': 'https://powercuts.westernpower.co.uk/incident/INCD-153215-H', 'postcodes_impacted': ['NG3 6GJ', 'NG3 6GR'], 'received_time': '2021-04-23 23:59:00'}, 'geometry': {'type': 'Point', 'coordinates': [-1.1260705, 52.9808035]}}, {'type': 'Feature', 'properties': {'description': 'Awaiting', 'dno': 'wpd', 'estimated_restored_time': '2021-04-24 00:30:00', 'incident_id': 'INCD-44762-D', 'incident_url': 'https://powercuts.westernpower.co.uk/incident/INCD-44762-D', 'postcodes_impacted': ['NG1 6LF', 'NG1 6LD', 'NG1 6JP', 'NG1 5JS', 'NG1 5FW', 'NG1 2DR', 'NG1 6JD', 'NG1 6HW', 'NG1 6JZ', 'NG1 2AB', 'NG1 6LG', 'NG1 5GQ', 'NG1 6HY', 'NG1 6HX', 'NG1 5JT', 'NG1 6JE', 'NG1 2BL', 'NG1 5BP', 'NG1 6AZ', 'NG1 2AA', 'NG1 6AX', 'NG1 6GD', 'NG1 5ED', 'NG1 2BN', 'NG1 5FX', 'NG1 6LH', 'NG1 5JN', 'NG1 5RH', 'NG1 2DS', 'NG1 1FS'], 'received_time': '2021-04-23 23:10:00'}, 'geometry': {'type': 'Point', 'coordinates': [-1.1517692333333334, 52.954716766666664]}}, {'type': 'Feature', 'properties': {'description': 'We are aware of a fault in your area. If you require more information please call us on: \nCentral and Southern Scotland:  0800 092 9290 . \n Cheshire, Merseyside, North Wales and North Shropshire: 0800 001 5400.', 'dno': 'sp', 'estimated_restored_time': '2021-04-24 03:15', 'incident_id': 'INCD-506673-f', 'incident_url': 'https://www.spenergynetworks.co.uk/pages/power_cuts_map.aspx?incRef=INCD-506673-f', 'postcodes_impacted': ['EH139DP', 'EH139ER', 'EH139ES', 'EH139ET', 'EH139QX'], 'received_time': '2021-04-24 00:07'}, 'geometry': {'type': 'Point', 'coordinates': [-3.2256642437734087, 55.912543931530514]}}, {'type': 'Feature', 'properties': {'description': 'We are aware of a fault in your area. If you require more information please call us on: \nCentral and Southern Scotland:  0800 092 9290 . \n Cheshire, Merseyside, North Wales and North Shropshire: 0800 001 5400.', 'dno': 'sp', 'estimated_restored_time': '2021-04-24 01:00', 'incident_id': 'INCD-1810430-i', 'incident_url': 'https://www.spenergynetworks.co.uk/pages/power_cuts_map.aspx?incRef=INCD-1810430-i', 'postcodes_impacted': ['CH53NA'], 'received_time': '2021-04-23 21:54'}, 'geometry': {'type': 'Point', 'coordinates': [-3.040862046311986, 53.16545009381851]}}, {'type': 'Feature', 'properties': {'description': 'We are aware of a fault in your area. If you require more information please call us on: \nCentral and Southern Scotland:  0800 092 9290 . \n Cheshire, Merseyside, North Wales and North Shropshire: 0800 001 5400.', 'dno': 'sp', 'estimated_restored_time': '2021-04-24 01:30', 'incident_id': 'INCD-506661-f', 'incident_url': 'https://www.spenergynetworks.co.uk/pages/power_cuts_map.aspx?incRef=INCD-506661-f', 'postcodes_impacted': ['EH481AA', 'EH482NX', 'EH482PR', 'EH483EP'], 'received_time': '2021-04-23 20:36'}, 'geometry': {'type': 'Point', 'coordinates': [-3.6822610847882133, 55.899486738089095]}}, {'type': 'Feature', 'properties': {'description': 'There is a power cut in the EH16 postcode area of Edinburgh. Our team has managed to restore power to a number of properties in the area and are still working to repair an underground cable fault near Wauchope Avenue substation affecting the rest of our customers without power. We now expect all power to be back on as quickly and as safely as possible by 4:30am. We will update this message if this information changes. We apologise for the inconvenience and thank you for your patience. This message was updated at 1:32am on 24th April', 'dno': 'sp', 'estimated_restored_time': '2021-04-24 03:30', 'incident_id': 'INCD-566743-s', 'incident_url': 'https://www.spenergynetworks.co.uk/pages/power_cuts_map.aspx?incRef=INCD-566743-s', 'postcodes_impacted': ['EH164AQ', 'EH164JZ', 'EH164LA', 'EH164LB', 'EH164LD', 'EH164LE', 'EH164LF', 'EH164LG', 'EH164LL', 'EH164LN', 'EH164LX', 'EH164NB', 'EH164PX', 'EH164RY'], 'received_time': '2021-04-23 16:41'}, 'geometry': {'type': 'Point', 'coordinates': [-3.1219185499809994, 55.93312381881349]}}, {'type': 'Feature', 'properties': {'description': 'There is a power cut in the CW6 postcode area of Kelsall, affecting customers on Waste Lane, Castle Hill and Tirley Lane. We had no advance warning of this and only became aware of it at 4:18PM. Our team has managed to restore power to a number of properties in the area and are still working to connect the remaining generator to the network affecting the rest of our customers without power. We now expect all power to be back on as quickly and as safely as possible by 3am. We will update this message if this information changes. We apologise for the inconvenience and thank you for your patience. This message was updated at 1am on 24th April', 'dno': 'sp', 'estimated_restored_time': '2021-04-24 02:00', 'incident_id': 'INCD-566707-s', 'incident_url': 'https://www.spenergynetworks.co.uk/pages/power_cuts_map.aspx?incRef=INCD-566707-s', 'postcodes_impacted': ['CH38AB', 'CH38AE', 'CH38AG', 'CH38AH', 'CH38NL', 'CH650AB', 'CW60GD', 'CW60GQ', 'CW60LF', 'CW60NB', 'CW60ND', 'CW60NE', 'CW60NF', 'CW60NG', 'CW60NH', 'CW60NJ', 'CW60NL', 'CW60NN', 'CW60NP', 'CW60NQ', 'CW60NR', 'CW60NS', 'CW60NT', 'CW60NU', 'CW60NX', 'CW60NY', 'CW60PA', 'CW60PB', 'CW60PD', 'CW60PE', 'CW60PF', 'CW60PG', 'CW60PH', 'CW60PJ', 'CW60PL', 'CW60PN', 'CW60PP', 'CW60PQ', 'CW60PR', 'CW60PS', 'CW60PT', 'CW60PU', 'CW60PX', 'CW60PY', 'CW60PZ', 'CW60QA', 'CW60QB', 'CW60QD', 'CW60QE', 'CW60QF', 'CW60QG', 'CW60QH', 'CW60QJ', 'CW60QL', 'CW60QN', 'CW60QP', 'CW60QQ', 'CW60QR', 'CW60QS', 'CW60QT', 'CW60QU', 'CW60QW', 'CW60QX', 'CW60QY', 'CW60QZ', 'CW60RA', 'CW60RB', 'CW60RD', 'CW60RE', 'CW60RF', 'CW60RH', 'CW60RJ', 'CW60RN', 'CW60RP', 'CW60RR', 'CW60RS', 'CW60RT', 'CW60RY', 'CW60RZ', 'CW60SA', 'CW60SB', 'CW60SD', 'CW60SE', 'CW60SG', 'CW60SH', 'CW60SJ', 'CW60SL', 'CW60SP', 'CW60SQ', 'CW60SW', 'CW60SY', 'CW60SZ', 'CW60TA', 'CW60TB', 'CW60TD', 'CW60TE', 'CW60TG', 'CW60TJ', 'CW60TL', 'CW60UQ', 'CW60XP', 'CW61AA', 'CW61XX', 'CW69JJ', 'CW69NJ', 'CW6ONJ', 'CW81NW', 'CW82JD', 'WA66PA'], 'received_time': '2021-04-23 16:18'}, 'geometry': {'type': 'Point', 'coordinates': [-2.708179071310908, 53.20823781305982]}}, {'type': 'Feature', 'properties': {'description': 'We are aware of a fault in your area. If you require more information please call us on: \nCentral and Southern Scotland:  0800 092 9290 . \n Cheshire, Merseyside, North Wales and North Shropshire: 0800 001 5400.', 'dno': 'sp', 'estimated_restored_time': '', 'incident_id': 'INCD-566533-s', 'incident_url': 'https://www.spenergynetworks.co.uk/pages/power_cuts_map.aspx?incRef=INCD-566533-s', 'postcodes_impacted': ['FK14', 'FK14EG', 'FK14EW', 'FK14HJ', 'FK14PP', 'FK14PX', 'FK14PZ', 'FK14QF', 'FK14QJ', 'FK14QL'], 'received_time': '2021-04-23 10:24'}, 'geometry': {'type': 'Point', 'coordinates': [-3.8168204994033994, 56.00353753562862]}}, {'type': 'Feature', 'properties': {'description': 'HV Restoration Awaiting', 'dno': 'np', 'estimated_restored_time': '', 'incident_id': 'INCD-173066-A', 'incident_url': 'https://www.northernpowergrid.com/power-cuts', 'postcodes_impacted': {'S6 6LG': {'class': 'models.MapDataLocation', 'lat': 53.4285, 'lng': -1.59736}}, 'received_time': '2021-04-20 11:41'}, 'geometry': {'type': 'Point', 'coordinates': [-1.597277, 53.427972]}}, {'type': 'Feature', 'properties': {'description': 'Safety Interruption Awaiting', 'dno': 'np', 'estimated_restored_time': '', 'incident_id': 'INCD-173599-A', 'incident_url': 'https://www.northernpowergrid.com/power-cuts', 'postcodes_impacted': {'DN8 5RY': {'class': 'models.MapDataLocation', 'lat': 53.6089, 'lng': -0.938874}}, 'received_time': '2021-04-22 07:43'}, 'geometry': {'type': 'Point', 'coordinates': [-0.938859, 53.608929]}}, {'type': 'Feature', 'properties': {'description': 'U/G Service repair In Progress', 'dno': 'np', 'estimated_restored_time': '2021-04-26 11:00', 'incident_id': 'INCD-173787-A', 'incident_url': 'https://www.northernpowergrid.com/power-cuts', 'postcodes_impacted': {'TS1 1LP': {'class': 'models.MapDataLocation', 'lat': 54.5764, 'lng': -1.23497}}, 'received_time': '2021-04-22 17:17'}, 'geometry': {'type': 'Point', 'coordinates': [-1.235012, 54.57654]}}, {'type': 'Feature', 'properties': {'description': 'Smart Meter Cutout Change In Progress', 'dno': 'np', 'estimated_restored_time': '', 'incident_id': 'INCD-174029-A', 'incident_url': 'https://www.northernpowergrid.com/power-cuts', 'postcodes_impacted': {'BD8 7DT': {'class': 'models.MapDataLocation', 'lat': 53.8043, 'lng': -1.76226}}, 'received_time': '2021-04-23 13:53'}, 'geometry': {'type': 'Point', 'coordinates': [-1.762256, 53.804294]}}, {'type': 'Feature', 'properties': {'description': 'DNO Energisation check Awaiting', 'dno': 'np', 'estimated_restored_time': '', 'incident_id': 'INCD-174056-A', 'incident_url': 'https://www.northernpowergrid.com/power-cuts', 'postcodes_impacted': {'DN15 7LG': {'class': 'models.MapDataLocation', 'lat': 53.5929, 'lng': -0.65595}}, 'received_time': '2021-04-23 15:14'}, 'geometry': {'type': 'Point', 'coordinates': [-0.65589, 53.592845]}}, {'type': 'Feature', 'properties': {'description': 'DNO Energisation check Awaiting', 'dno': 'np', 'estimated_restored_time': '', 'incident_id': 'INCD-174059-A', 'incident_url': 'https://www.northernpowergrid.com/power-cuts', 'postcodes_impacted': {'DL14 7JN': {'class': 'models.MapDataLocation', 'lat': 54.6628, 'lng': -1.67414}}, 'received_time': '2021-04-23 15:42'}, 'geometry': {'type': 'Point', 'coordinates': [-1.673419, 54.662575]}}, {'type': 'Feature', 'properties': {'description': 'U/G LV CONSAC Repair In Progress', 'dno': 'np', 'estimated_restored_time': '2021-04-24 01:00', 'incident_id': 'INCD-174076-A', 'incident_url': 'https://www.northernpowergrid.com/power-cuts', 'postcodes_impacted': {'NE61 1RJ': {'class': 'models.MapDataLocation', 'lat': 55.1697, 'lng': -1.70005}, 'NE61 1BX': {'class': 'models.MapDataLocation', 'lat': 55.1704, 'lng': -1.69351}, 'NE61 2YU': {'class': 'models.MapDataLocation', 'lat': 55.1637, 'lng': -1.71072}, 'NE61 1DB': {'class': 'models.MapDataLocation', 'lat': 55.1709, 'lng': -1.69486}, 'NE61 1BZ': {'class': 'models.MapDataLocation', 'lat': 55.171, 'lng': -1.69453}, 'NE61 1RG': {'class': 'models.MapDataLocation', 'lat': 55.1702, 'lng': -1.69775}, 'NE61 1RL': {'class': 'models.MapDataLocation', 'lat': 55.1709, 'lng': -1.69703}, 'NE61 1DF': {'class': 'models.MapDataLocation', 'lat': 55.172, 'lng': -1.69513}, 'NE61 1RF': {'class': 'models.MapDataLocation', 'lat': 55.171, 'lng': -1.6967}, 'NE61 1RE': {'class': 'models.MapDataLocation', 'lat': 55.1712, 'lng': -1.69632}, 'NE61 1RD': {'class': 'models.MapDataLocation', 'lat': 55.1706, 'lng': -1.69643}}, 'received_time': '2021-04-23 17:25'}, 'geometry': {'type': 'Point', 'coordinates': [-1.6975853636363638, 55.170150909090914]}}, {'type': 'Feature', 'properties': {'description': 'Unknown P2 In Progress', 'dno': 'np', 'estimated_restored_time': '2021-04-24 04:00', 'incident_id': 'INCD-174088-A', 'incident_url': 'https://www.northernpowergrid.com/power-cuts', 'postcodes_impacted': {'BD3 9HB': {'class': 'models.MapDataLocation', 'lat': 53.7946, 'lng': -1.73974}, 'BD3 9HR': {'class': 'models.MapDataLocation', 'lat': 53.7936, 'lng': -1.74119}, 'BD3 9HP': {'class': 'models.MapDataLocation', 'lat': 53.7936, 'lng': -1.74176}, 'BD1 5JA': {'class': 'models.MapDataLocation', 'lat': 53.7958, 'lng': -1.74055}}, 'received_time': '2021-04-23 19:34'}, 'geometry': {'type': 'Point', 'coordinates': [-1.74091325, 53.79426975]}}, {'type': 'Feature', 'properties': {'description': 'U/G Service repair In Progress', 'dno': 'np', 'estimated_restored_time': '2021-04-24 01:30', 'incident_id': 'INCD-174095-A', 'incident_url': 'https://www.northernpowergrid.com/power-cuts', 'postcodes_impacted': {'HD5 8AY': {'class': 'models.MapDataLocation', 'lat': 53.6434, 'lng': -1.76059}}, 'received_time': '2021-04-23 20:31'}, 'geometry': {'type': 'Point', 'coordinates': [-1.760605, 53.643413]}}, {'type': 'Feature', 'properties': {'description': 'Unknown P2 In Progress', 'dno': 'np', 'estimated_restored_time': '2021-04-24 03:00', 'incident_id': 'INCD-174108-A', 'incident_url': 'https://www.northernpowergrid.com/power-cuts', 'postcodes_impacted': {'S1 2HU': {'class': 'models.MapDataLocation', 'lat': 53.3789, 'lng': -1.47052}}, 'received_time': '2021-04-23 23:53'}, 'geometry': {'type': 'Point', 'coordinates': [-1.470475, 53.378921]}}, {'type': 'Feature', 'properties': {'description': 'We need to temporarily turn the power off to carry out replacement work at a substation in the area. Work is scheduled to start', 'dno': 'np', 'estimated_restored_time': '2021-04-25 14:00', 'incident_id': 'PPC039190', 'incident_url': 'https://www.northernpowergrid.com/power-cuts', 'postcodes_impacted': {'TS3 6AF': {'class': 'models.MapDataLocation', 'lat': 54.5755, 'lng': -1.22035}}, 'received_time': '2021-04-24 07:30'}, 'geometry': {'type': 'Point', 'coordinates': [-1.220929, 54.576033]}}]}

var geoJson = new L.geoJSON(geojsonFeature, {
  onEachFeature: function (feature, layer) {
    layer.bindPopup('<p>'+feature.properties.description+'</p><p>Received time: '+feature.properties.received_time+'</p><p>Estimated restored time: '+feature.properties.estimated_restored_time+'</p><p><a href="'+feature.properties.incident_url+'" target="_blank">Further details</p>');
    layer.setIcon(boltIcon);
  }
}).addTo(mymap);
});